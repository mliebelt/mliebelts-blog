{"data":{"site":{"siteMetadata":{"title":"mliebelt Starter Blog","author":"Markus Liebelt"}},"markdownRemark":{"id":"6e3be5fc-3325-508a-8a23-69e1bdf02a85","excerpt":"Why? In former times, I blogged using jekyll, and I had my problems with it: Not so easy to understand. Markdown was not sufficient for what I wanted to do…","html":"<h2>Why?</h2>\n<p>In former times, I blogged using jekyll, and I had my problems with it:</p>\n<ul>\n<li>Not so easy to understand.</li>\n<li>Markdown was not sufficient for what I wanted to do.</li>\n<li>Strange tooling here or there</li>\n<li>Not a stable deployment process</li>\n</ul>\n<p>So I wanted to use something else …</p>\n<h2>What?</h2>\n<p>I stumbled over Gatsby in a podcast <a href=\"https://changelog.com/podcast/306\">The Changelog</a> which sounded like it should be worth a try. But how to use it? Then I had to travel for some hours with the train, and I wanted to give it a try. First, it was a nightmare, but after having installed the relevant node projects, if went on smoothly.</p>\n<h2>Which goals?</h2>\n<p>I wanted to deploy the final blog with Github Pages, and so I tried first the plugin that said it will do the job. But that did not work for me.</p>\n<p>So I used the normal tools (like <code class=\"language-text\">gatsby build</code>) and added some more jobs to it. In a nutshell, it is the following line: <code class=\"language-text\">gatsby build --prefix-paths &amp;&amp; rm -fr docs &amp;&amp; mv public docs</code></p>\n<h3>Prefix-paths</h3>\n<p>See the documentation under <a href=\"https://www.gatsbyjs.org/docs/path-prefix/\">https://www.gatsbyjs.org/docs/path-prefix/</a> for details. In my case, I did:</p>\n<ul>\n<li>Added line <code class=\"language-text\">pathPrefix: &#39;/mliebelts-blog&#39;</code> to <code class=\"language-text\">gatsby-config.js</code></li>\n<li>Use the additional option <code class=\"language-text\">--prefix-paths</code> in your production build process.</li>\n</ul>\n<h3>Using directory docs</h3>\n<p>If you want to deploy on Github, you have to move your blog into the directory <code class=\"language-text\">docs</code>. So by deleting the directory first all the time, and then moving the generated directory <code class=\"language-text\">public</code> to <code class=\"language-text\">docs</code>, everything works then.</p>\n<h2>Finally</h2>\n<p>I faced problems here or there:</p>\n<ul>\n<li>I had problems deploying the production version, when the directory <code class=\"language-text\">.cache</code> was not cleaned before. So I did that regularily.</li>\n</ul>","frontmatter":{"title":"Using Gatsby - The first months","date":"March 13, 2019","tags":["gatsby"]}}},"pageContext":{"slug":"/using-gatsby/","previous":{"fields":{"slug":"/rails-docker-compose/"},"frontmatter":{"title":"Migrating from Windows based development to Docker based development","path":"/rails-docker-compose","tags":["rails","docker"],"posttype":"blog","author":null}},"next":null}}